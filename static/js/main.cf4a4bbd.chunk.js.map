{"version":3,"sources":["components/Header.tsx","components/Button.tsx","components/ErrorBar.tsx","components/Dropbox.tsx","components/ResultView.tsx","components/App.tsx","index.tsx"],"names":["Header","react_default","a","createElement","className","Button","_ref","_ref$type","type","_ref$onClick","onClick","url","inputId","_ref$baseClass","baseClass","modifier","text","icon","postIcon","disabled","title","combinedClass","concat","modifiers","split","Array","isArray","Object","toConsumableArray","length","result","map","name","trim","join","getCSSModifiers","renderIcon","iconClass","inner","href","htmlFor","ErrorBar","errors","clearErrors","_ref2","key","components_Button","Dropbox","setError","setResult","_ref$maxFileSize","maxFileSize","haveErrors","maxFileSizeInMb","toFixed","_useState","useState","_useState2","slicedToArray","isUploading","setUploading","_useState3","_useState4","isDragOver","setDragOver","preventDefaults","e","stopPropagation","preventDefault","handleFile","files","from","currentFile","index","size","extensionError","sizeError","parseError","uploadError","handleError","err","fileNameSplitted","fileExtension","reader","FileReader","onloadstart","onloadend","parseResult","JSON","parse","toString","error","body","onerror","readAsText","onSubmit","onDragEnter","onDragOver","onDragLeave","onDrop","dataTransfer","tabIndex","onChange","target","id","multiple","ResultView","content","resetResult","countResult","json","counter","keys","registerObject","countObject","forEach","current","getCountResult","readOnly","defaultValue","App","state","_this","setState","prevState","setFiles","newFile","dragHandler","_this$state","this","haveResult","components_Header","components_ErrorBar","components_ResultView","components_Dropbox","Component","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.cf4a4bbd.chunk.js","sourcesContent":["import React, {FC} from \"react\";\n\nconst Header: FC = () => {\n  return (\n    <header className=\"app-header\">\n      <h1 className=\"app-logo\">JSON Counter 4000</h1>\n      <p className=\"app-description\">Best way to count objects in your JSON</p>\n    </header>\n  );\n};\n\nexport default Header;\n","import React, {FC} from \"react\";\n\n// from https://github.com/random1911/universal-button\n\ninterface IProps {\n  type?: \"button\" | \"link\" | \"label\";\n  onClick?: () => void;\n  url?: string;\n  inputId?: string;\n  baseClass?: string;\n  modifier?: string | string[];\n  text?: string;\n  icon?: string;\n  postIcon?: string;\n  title?: string;\n  disabled?: boolean;\n}\n\nconst Button: FC<IProps> = ({\n  type = 'button',\n  onClick = () => {},\n  url,\n  inputId,\n  baseClass = 'button',\n  modifier,\n  text,\n  icon,\n  postIcon,\n  disabled,\n  title\n}) => {\n  const getCSSModifiers = (modifier: undefined | string | string[]) => {\n    if (!modifier) return \"\";\n    let modifiers;\n    if (typeof modifier === \"string\") {\n      modifiers = modifier.split(\",\");\n    } else if (Array.isArray(modifier)) {\n      modifiers = [...modifier];\n    }\n    if (!modifiers || !modifiers.length) return \"\";\n    const result = modifiers.map(name => `${baseClass}_${name.trim()}`);\n    return ` ${result.join(\" \")}`;\n  };\n\n  const combinedClass = `${baseClass}${getCSSModifiers(modifier)}`;\n\n  const renderIcon = (name: string) => {\n    const iconClass = `${baseClass}__icon`;\n    return <span className={`${iconClass} ${iconClass}_${name}`} />;\n  };\n\n  const inner = (\n    <span className={`${baseClass}__inner`}>\n      {icon && renderIcon(icon)}\n      {text && <span className={`${baseClass}__text`}>{text}</span>}\n      {text && postIcon && renderIcon(postIcon)}\n    </span>\n  );\n\n  switch (type) {\n    case \"link\":\n      return (\n        <a title={title} className={combinedClass} href={url}>\n          {inner}\n        </a>\n      );\n    case \"label\":\n      return (\n        <label title={title} className={combinedClass} htmlFor={inputId}>\n          {inner}\n        </label>\n      );\n    default: {\n      return (\n        <button\n          title={title}\n          type={type}\n          className={combinedClass}\n          disabled={disabled}\n          onClick={onClick}\n        >\n          {inner}\n        </button>\n      );\n    }\n  }\n};\n\nexport default Button;\n","import React, { FC } from \"react\";\nimport Button from \"./Button\";\n\nexport interface IError {\n  key: string;\n  text: string;\n}\n\ninterface IProps {\n  errors: IError[];\n  clearErrors: () => void;\n}\n\nconst ErrorBar: FC<IProps> = ({ errors, clearErrors }) => {\n  const renderError = ({ key, text }: IError) => {\n    return (\n      <li key={key} className=\"error-bar__item\">\n        <strong>Error:</strong> {text}\n      </li>\n    );\n  };\n\n  return (\n    <div className=\"error-bar\">\n      <ol className=\"error-bar__content\">{errors.map(renderError)}</ol>\n      <Button\n        baseClass=\"error-bar-reset\"\n        title=\"Clear errors\"\n        onClick={clearErrors}\n      />\n    </div>\n  );\n};\n\nexport default ErrorBar;\n","import React, { FC, FormEvent, DragEvent, useState } from \"react\";\nimport Button from \"./Button\";\nimport { IError } from \"./ErrorBar\";\nimport { IJsonFile } from \"./ResultView\";\n\ninterface IProps {\n  setError: (error: IError) => void;\n  setResult: (newFile: IJsonFile) => void;\n  clearErrors: () => void;\n  haveErrors: boolean;\n  maxFileSize?: number;\n}\ninterface IState {\n  uploading: boolean;\n  isDragOver: boolean;\n  maxFileSizeInMb: string;\n}\n\ninterface InputFile extends FormEvent {\n  target: HTMLInputElement & EventTarget;\n}\n\nconst Dropbox: FC<IProps> = ({\n  setError,\n  setResult,\n  maxFileSize = 1048576,\n  haveErrors,\n  clearErrors\n}) => {\n  const maxFileSizeInMb: string = (maxFileSize / 1024 / 1024).toFixed(0);\n  const [isUploading, setUploading] = useState(false);\n  const [isDragOver, setDragOver] = useState(false);\n\n  const preventDefaults = (e: DragEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n  };\n  const onSubmit = (e: FormEvent) => {\n    e.preventDefault();\n  };\n  const handleFile = (files: FileList | null) => {\n    if (!files) return;\n    const checkFile = (currentFile: File, index: number) => {\n      const { name, size } = currentFile;\n      const extensionError = `\"${name}\" don't have .json or .txt format.`;\n      const sizeError = `\"${name}\" is grater than ${maxFileSizeInMb}mb`;\n      const parseError = `uploaded file \"${name}\" can't be parsed as JSON`;\n      const uploadError = `can't upload \"${name}\"`;\n\n      const handleError = (text: string) => {\n        const err = {\n          text,\n          key: `${name}_${index}`\n        };\n        setError(err);\n      };\n\n      /*\n        * First I planned to check Mime type\n        * but instead of application/json I've seen just empty string in real json\n        * Whats why I check just file extension\n        * .json and .txt passes as valid\n        * */\n\n      const fileNameSplitted = name.split(\".\");\n      const fileExtension = fileNameSplitted[fileNameSplitted.length - 1];\n\n      if (fileExtension !== \"json\" && fileExtension !== \"txt\") {\n        handleError(extensionError);\n        return;\n      }\n\n      if (size >= maxFileSize) {\n        handleError(sizeError);\n        return;\n      }\n\n      const reader = new FileReader();\n      reader.onloadstart = () => {\n        setUploading(true);\n      };\n      reader.onloadend = () => {\n        setUploading(false);\n        let parseResult = false;\n        // check if JSON is valid\n        try {\n          const { result } = reader;\n          if (result) {\n            parseResult = JSON.parse(result.toString());\n          }\n        } catch (error) {\n          handleError(parseError);\n          return;\n        }\n        if (parseResult) {\n          const newResult = {\n            name,\n            body: parseResult\n          };\n          setResult(newResult);\n        }\n      };\n      reader.onerror = () => {\n        handleError(uploadError);\n      };\n\n      reader.readAsText(currentFile);\n    };\n    Array.from(files).map(checkFile);\n  };\n  const handleChange = (e: InputFile) => {\n    clearErrors();\n    handleFile(e.target.files);\n  };\n  const handleDragEnter = (e: DragEvent) => {\n    preventDefaults(e);\n    setDragOver(true);\n  };\n  const handleDragOver = (e: DragEvent) => {\n    preventDefaults(e);\n  };\n  const handleDragLeave = (e: DragEvent) => {\n    preventDefaults(e);\n    setDragOver(false);\n  };\n  const handleDrop = (e: DragEvent) => {\n    preventDefaults(e);\n    setDragOver(false);\n    if (isUploading) return;\n    clearErrors();\n    const dt = e.dataTransfer;\n    const files = dt.files;\n    handleFile(files);\n  };\n\n  const getModifier = () => {\n    const base = \" drop-box_\";\n    if (isDragOver && !isUploading) {\n      return `${base}drag-over`;\n    }\n    if (haveErrors) {\n      return `${base}error`;\n    }\n    return \"\";\n  };\n\n  return (\n    <form\n      onSubmit={onSubmit}\n      onDragEnter={handleDragEnter}\n      onDragOver={handleDragOver}\n      onDragLeave={handleDragLeave}\n      onDrop={handleDrop}\n      className={`drop-box${getModifier()}`}\n    >\n      {isUploading && <div className=\"drop-box__overlay\">Loading...</div>}\n      <input\n        tabIndex={0}\n        onChange={handleChange}\n        type=\"file\"\n        id=\"file\"\n        multiple\n        className=\"drop-box__input\"\n      />\n      <Button type=\"label\" inputId=\"file\" text=\"Choose a file\" />\n      <p className=\"drop-box__description\">\n        File have to be JSON in .json/.txt format and less than{\" \"}\n        {maxFileSizeInMb}mb\n      </p>\n    </form>\n  );\n};\n\nexport default Dropbox;\n","import React, { FC } from \"react\";\nimport Button from \"./Button\";\n\nexport interface IJsonFile {\n  name: string;\n  body: any;\n}\n\ninterface IProps {\n  content: IJsonFile[];\n  resetResult: () => void;\n}\n\nconst ResultView: FC<IProps> = ({ content, resetResult }) => {\n  const getCountResult = (json: any) => {\n    let counter: number = 0;\n    let keys: string[] = [];\n    const registerObject = (key: string) => {\n      counter += 1;\n      // register keys/indexes where objects were found\n      keys = [...keys, key];\n    };\n\n    // recursive function for counting arrays and objects\n    const countObject = (target: any) => {\n      const keys = Object.keys(target);\n      keys.forEach(key => {\n        const current = target[key];\n        if (typeof current === \"object\" && current !== null) {\n          registerObject(key.toString());\n          countObject(current);\n        }\n      });\n    };\n    countObject(json);\n    return { counter, keys };\n  };\n\n  const renderResultItem = ({ name, body }: IJsonFile) => {\n    const countResult = getCountResult(body);\n    const keys = countResult.keys.join(\"\\n\");\n    return (\n      <li key={name} className=\"result-view-item\">\n        <div className=\"result-view-item__summary\">\n          <div className=\"result-view-item__summary-row\">\n            <span className=\"result-view-item__label\">File name:</span>\n            <span className=\"result-view-item__name\">{name}</span>\n          </div>\n          <div className=\"result-view-item__summary-row\">\n            <span className=\"result-view-item__label\">Objects count:</span>\n            <span className=\"result-view-item__count\">\n              {countResult.counter}\n            </span>\n          </div>\n        </div>\n        <div className=\"result-view-item__details\">\n          <span className=\"result-view-item__label\">Keys:</span>\n          <textarea\n            readOnly\n            className=\"result-view-item__keys-list\"\n            defaultValue={keys}\n          />\n        </div>\n      </li>\n    );\n  };\n\n  return (\n    <div className=\"result-view\">\n      <h2 className=\"result-view-caption\">Here is a counting result:</h2>\n      <ul className=\"result-view-list\">{content.map(renderResultItem)}</ul>\n      <div className=\"result-view-footer\">\n        <Button text=\"Count something else\" onClick={resetResult} />\n      </div>\n    </div>\n  );\n};\n\nexport default ResultView;\n","import React, { Component, DragEvent } from \"react\";\nimport Header from \"./Header\";\nimport ErrorBar, { IError } from \"./ErrorBar\";\nimport Dropbox from \"./Dropbox\";\nimport ResultView, { IJsonFile } from \"./ResultView\";\n\ninterface IState {\n  errors: IError[];\n  files: IJsonFile[];\n}\n\nclass App extends Component<{}, IState> {\n  state = {\n    errors: [],\n    files: []\n  };\n\n  // set errors for error bar\n  setError = (error: IError) => {\n    this.setState(prevState => {\n      const errors = [...prevState.errors, error];\n      return { errors };\n    });\n  };\n\n  // clear errors for error bar\n  clearErrors = () => {\n    this.setState({\n      errors: []\n    });\n  };\n\n  // set valid json files to count\n  setFiles = (newFile: IJsonFile) => {\n    this.setState(prevState => {\n      const files = [...prevState.files, newFile];\n      return { files };\n    });\n  };\n\n  // reset state function for button on result view\n  resetResult = () => {\n    this.setState({\n      errors: [],\n      files: []\n    });\n  };\n\n  // handler for drag on result view\n  dragHandler = (e: DragEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.resetResult();\n  };\n\n  render() {\n    const { errors, files } = this.state;\n    const haveErrors: boolean = !!errors.length;\n    const haveResult: boolean = !!files.length;\n\n    return (\n      <div className=\"app-wrapper\" onDragEnter={this.dragHandler}>\n        <Header />\n        <div className=\"app-body\">\n          {haveErrors && (\n            <ErrorBar errors={errors} clearErrors={this.clearErrors} />\n          )}\n          {!haveResult ? (\n            <Dropbox\n              setError={this.setError}\n              setResult={this.setFiles}\n              haveErrors={haveErrors}\n              clearErrors={this.clearErrors}\n            />\n          ) : (\n            <ResultView content={files} resetResult={this.resetResult} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/general.less\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}